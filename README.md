ブロードキャスト UDPのサンプル

1対1の通信
recv.c
引数にポート番号
1回受信したら、受信内容を出力して終了

$ ./recv 9090

send.c
引数：送信アドレス（リミテッドブロードキャストなら、255.255.255.255）
　　　ポート番号
　　　送信内容（文字列）

$ ./send 255.255.255.255 9090 hello

実行すると、送信内容を5秒毎に送信、無限loop

recvとsendはポート番号を同じにすることだけ注意
ブロードキャストなので、受信者は複数いても、複数が受信する。
（マルチキャストとは別の話）



マルチキャストの通信
マルチキャストの通信を行うには、マルチキャストグループに参加(JOIN)する必要がある。
ここが、先ほどのブロードキャストとは違うところ。（ブロードキャストしているけど受信者を選べる）

マルチキャストアドレスとは
マルチキャストアドレスは「224.0.0.0〜239.255.255.255」の範囲と決まっています。
「224.0.1.0〜238.255.255.255」まではグローバルアドレスのようにインターネットで使えるアドレスです。
「239.0.0.0〜239.255.255.255」まではプライベートアドレスのように組織内で使われるマルチキャストアドレスです。

m_recv.c
引数に、マルチキャストアドレス　ポート番号

$ ./m_recv 239.1.1.1 9090

事前に、送信側が指定のマルチキャストアドレスで口を開いていないと、初期化でエラーになる。
（指定の受信者しか、受信できない）


m_send.c
引数：マルチキャストアドレス
　　　ポート番号
　　　送信内容（文字列）
プログラム内、40行目でLAN I/FのIPアドレスを直接記述しないといけないので、注意
マルチキャストアドレスは、このIPアドレスと全く関係ない。

$ ./m_send 239.1.1.1 9090 hello

実行すると、送信内容を5秒毎に送信、無限loop
